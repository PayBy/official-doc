"use strict";(self.webpackChunkdeveloper_official_site=self.webpackChunkdeveloper_official_site||[]).push([[9408],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(n),u=a,h=d["".concat(p,".").concat(u)]||d[u]||m[u]||i;return n?r.createElement(h,o(o({ref:t},s),{},{components:n})):r.createElement(h,o({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},84584:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(83117),a=(n(67294),n(3905));n(8209);const i={sidebar_position:2,toc_max_heading_level:6},o="DYNRQ",l={unversionedId:"Online Payment Integration/Special Payment Scenes/dynrq",id:"Online Payment Integration/Special Payment Scenes/dynrq",title:"DYNRQ",description:"Merchant-side QR Code",source:"@site/docs/2_Online Payment Integration/Special Payment Scenes/dynrq.md",sourceDirName:"2_Online Payment Integration/Special Payment Scenes",slug:"/Online Payment Integration/Special Payment Scenes/dynrq",permalink:"/docs/Online Payment Integration/Special Payment Scenes/dynrq",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,toc_max_heading_level:6},sidebar:"tutorialSidebar",previous:{title:"E-wallet",permalink:"/docs/Online Payment Integration/Special Payment Scenes/ewallet"},next:{title:"QRPAY",permalink:"/docs/Online Payment Integration/Special Payment Scenes/qrpay"}},p={},c=[{value:"Merchant-side QR Code",id:"merchant-side-qr-code",level:2},{value:"User Experience",id:"user-experience",level:2},{value:"Integrate the API",id:"integrate-the-api",level:2},{value:"Initiate Payment and Display QR Code",id:"initiate-payment-and-display-qr-code",level:3},{value:"Asynchronous Notification",id:"asynchronous-notification",level:3},{value:"Change Order Status",id:"change-order-status",level:3},{value:"Retrieve Order",id:"retrieve-order",level:3}],s={toc:c};function m(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,r.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"dynrq"},"DYNRQ"),(0,a.kt)("h2",{id:"merchant-side-qr-code"},"Merchant-side QR Code"),(0,a.kt)("p",null,"After a customer places an order, a dynamic QR code is generated on the merchant\u2019s interface\u2014whether it\u2019s a website, mobile app, or even a physical terminal like a vending machine. The customer can then scan this code using the PayBy or BOTIM app to complete the payment."),(0,a.kt)("p",null,"This method is especially effective in environments where entering card details is impractical or insecure, such as vending machines or parking garages. By shifting the payment process from the merchant\u2019s interface to the customer\u2019s mobile device, it enhances both convenience and security."),(0,a.kt)("p",null,"QR code payments are inherently secure. The QR code itself serves only as a medium for encrypted data exchange, ensuring that sensitive payment information remains protected throughout the transaction."),(0,a.kt)("h2",{id:"user-experience"},"User Experience"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The customer confirms to pay for an order, the merchant generates a QR codes on the interface."),(0,a.kt)("li",{parentName:"ol"},"The customer uses PayBy, BOTIM to scan the QR code to obtain order information. "),(0,a.kt)("li",{parentName:"ol"},"In the order information returned by payby server, there is a parameter ",(0,a.kt)("strong",{parentName:"li"},"tokenUrl"),", PayBy or BOTIM application will parse this parameter and redirect the customer to the built-in checkout of the app."),(0,a.kt)("li",{parentName:"ol"},"Customers enter their payment details on the payment page and complete the transaction."),(0,a.kt)("li",{parentName:"ol"},"If the payment is completed, the customer will see the payment result on the app.")),(0,a.kt)("h2",{id:"integrate-the-api"},"Integrate the API"),(0,a.kt)("h3",{id:"initiate-payment-and-display-qr-code"},"Initiate Payment and Display QR Code"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Customer Confirmation"),(0,a.kt)("br",{parentName:"p"}),"\n","Wait for the customer to confirm their intent to make a payment.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Create Order Request"),(0,a.kt)("br",{parentName:"p"}),"\n","Call the ",(0,a.kt)("a",{parentName:"p",href:"/docs/createorder"},"Create Order")," API.  "),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Follow the API documentation to construct the request."),(0,a.kt)("li",{parentName:"ul"},"Set the ",(0,a.kt)("inlineCode",{parentName:"li"},"paySceneCode")," parameter to ",(0,a.kt)("inlineCode",{parentName:"li"},"DYNQR"),"."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Handle API Response"),(0,a.kt)("br",{parentName:"p"}),"\n","If the API call is successful:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Retrieve the ",(0,a.kt)("inlineCode",{parentName:"li"},"tokenUrl")," from the response."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Generate and Display QR Code"),"  "),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Convert the ",(0,a.kt)("inlineCode",{parentName:"li"},"tokenUrl")," into a QR code image."),(0,a.kt)("li",{parentName:"ul"},"Display the QR code on the merchant's interface for the customer to scan."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Payment Notification"),"  "),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"After the customer completes the payment, PayBy will send the payment result notification to either the PayBy server or the BOTIM app."),(0,a.kt)("li",{parentName:"ul"},"The customer will see the payment result in the app.")))),(0,a.kt)("h3",{id:"asynchronous-notification"},"Asynchronous Notification"),(0,a.kt)("p",null,"If the ",(0,a.kt)("strong",{parentName:"p"},"notifyUrl")," is set in the order creation request, after the transaction, PayBy will send payment result to the url."),(0,a.kt)("h3",{id:"change-order-status"},"Change Order Status"),(0,a.kt)("p",null,"You can initiate ",(0,a.kt)("a",{parentName:"p",href:"/docs/revoke"},"Revoke"),", ",(0,a.kt)("a",{parentName:"p",href:"/docs/cancel"},"Cancel"),", ",(0,a.kt)("a",{parentName:"p",href:"/docs/refund"},"Refund")," and other operations on the created order."),(0,a.kt)("h3",{id:"retrieve-order"},"Retrieve Order"),(0,a.kt)("p",null,"To retrieve the order detail, call the ",(0,a.kt)("a",{parentName:"p",href:"/docs/retrieveorderdetail"},"Retrieve Order Detail")," API."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"dynrqflow",src:n(53081).Z,width:"1333",height:"1551"})))}m.isMDXComponent=!0},53081:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/dynqr-e8d8ad4b0e17a29f6974a2ae8443026e.png"},8209:(e,t,n)=>{n(67294)}}]);