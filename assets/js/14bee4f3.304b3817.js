"use strict";(self.webpackChunkdeveloper_official_site=self.webpackChunkdeveloper_official_site||[]).push([[9755],{3905:(e,t,r)=>{r.d(t,{Zo:()=>h,kt:()=>d});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},h=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),u=l(r),d=a,m=u["".concat(c,".").concat(d)]||u[d]||p[d]||o;return r?n.createElement(m,i(i({ref:t},h),{},{components:r})):n.createElement(m,i({ref:t},h))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},23212:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=r(83117),a=(r(67294),r(3905));r(8209);const o={sidebar_position:10,toc_max_heading_level:6},i="Cash Top Up",s={unversionedId:"Online Payment Integration/Special Payment Scenes/cash-top-up",id:"Online Payment Integration/Special Payment Scenes/cash-top-up",title:"Cash Top Up",description:"For online merchants, this product offers users who don't have bank accounts the ability to use cash to complete their online orders. For example, this product can be used in game account top up scenario, the payer gives cash to cashier of the store that running this business, the cashier helps to complete the online payment.",source:"@site/docs/Online Payment Integration/Special Payment Scenes/cash-top-up.md",sourceDirName:"Online Payment Integration/Special Payment Scenes",slug:"/Online Payment Integration/Special Payment Scenes/cash-top-up",permalink:"/docs/Online Payment Integration/Special Payment Scenes/cash-top-up",draft:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,toc_max_heading_level:6},sidebar:"tutorialSidebar",previous:{title:"Direct Pay",permalink:"/docs/Online Payment Integration/Special Payment Scenes/direct-pay"},next:{title:"Plugin"}},c={},l=[{value:"User experience",id:"user-experience",level:3},{value:"Cashier experience",id:"cashier-experience",level:3},{value:"Integrate the API",id:"integrate-the-api",level:3},{value:"Create order",id:"create-order",level:4},{value:"Asynchronous notification",id:"asynchronous-notification",level:4},{value:"Change Order Status",id:"change-order-status",level:4},{value:"Retrieve Order",id:"retrieve-order",level:4}],h={toc:l};function p(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cash-top-up"},"Cash Top Up"),(0,a.kt)("p",null,"For online merchants, this product offers users who don't have bank accounts the ability to use cash to complete their online orders. For example, this product can be used in game account top up scenario, the payer gives cash to cashier of the store that running this business, the cashier helps to complete the online payment."),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"user-experience"},"User experience"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The customer confirms to add money to his or her online account, the merchant will generate an QR code for the payer's order. Along with the order, Payby will also send a how-to guide to the user's phone."),(0,a.kt)("li",{parentName:"ol"},"The customer follows the guide, find a nearest store that running this business."),(0,a.kt)("li",{parentName:"ol"},"The payer gives cash (same amount with the order amount) to cashier of the store, the cashier cheks the cash then use PayBy POS to scan the QR code. In this process, the store's e-waller balance will be used to pay the payer's order."),(0,a.kt)("li",{parentName:"ol"},"The payer will receive notification that the payment has been made, and the balance of the online account added.")),(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"payer-ue",src:r(67322).Z,width:"4615",height:"2275"})),(0,a.kt)("h3",{id:"cashier-experience"},"Cashier experience"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The cashier cheks that the cash amount is correct and then use PayBy POS to scan the QR code presented by the payer. In the process, password is required."),(0,a.kt)("li",{parentName:"ol"},"After scanning, the PayBy backend system will deduct balance from the store and change the online order status to success."),(0,a.kt)("li",{parentName:"ol"},"Note that the cashier should make sure the store's PayBy account has enough balance otherwise the payment can't be completed.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"cashier-ue",src:r(83073).Z,width:"5677",height:"2840"})),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"integrate-the-api"},"Integrate the API"),(0,a.kt)("h4",{id:"create-order"},"Create order"),(0,a.kt)("p",null,"When the customer confirms to pay, call the ",(0,a.kt)("a",{parentName:"p",href:"/docs/createorder"},"Create order")," API,  follow the API description to create a reuest. Pass ",(0,a.kt)("inlineCode",{parentName:"p"},"CASHTOPUP")," in the ",(0,a.kt)("strong",{parentName:"p"},"paySceneCode")," parameter."),(0,a.kt)("br",null),(0,a.kt)("p",null,"If the request is successful, PayBy will return the ",(0,a.kt)("strong",{parentName:"p"},"tokenUrl"),". The merchant's server needs to convert the URL into an QRcode image and display it to customers on its interface."),(0,a.kt)("br",null),(0,a.kt)("p",null,"After the payment the payby server will notify the result to merchant's server, and the customer will see the payment result on the phone."),(0,a.kt)("br",null),(0,a.kt)("h4",{id:"asynchronous-notification"},"Asynchronous notification"),(0,a.kt)("p",null,"If the ",(0,a.kt)("strong",{parentName:"p"},"notifyUrl")," is set in the order creation request, after the transaction, PayBy will send payment result to the url.",(0,a.kt)("br",null)),(0,a.kt)("br",null),(0,a.kt)("h4",{id:"change-order-status"},"Change Order Status"),(0,a.kt)("p",null,"You can initiate ",(0,a.kt)("a",{parentName:"p",href:"/docs/revoke"},"Revoke"),", ",(0,a.kt)("a",{parentName:"p",href:"/docs/cancel"},"Cancel"),", ",(0,a.kt)("a",{parentName:"p",href:"/docs/refund"},"Refund")," and other operations on the created order."),(0,a.kt)("br",null),(0,a.kt)("h4",{id:"retrieve-order"},"Retrieve Order"),(0,a.kt)("p",null,"To retrieve the order detail, call the ",(0,a.kt)("a",{parentName:"p",href:"/docs/retrieveorderdetail"},"Retrieve Order Detail")," API."))}p.isMDXComponent=!0},83073:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/ue-cashier-cash-931fc6f63de24e5b4f6699b889844442.png"},67322:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/ue-payer-cash-39fd23a98ee594e7e0ddcb186fc1df88.png"},8209:(e,t,r)=>{r(67294)}}]);