"use strict";(self.webpackChunkdeveloper_official_site=self.webpackChunkdeveloper_official_site||[]).push([[4101],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>y});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),y=r,d=u["".concat(p,".").concat(y)]||u[y]||m[y]||i;return n?a.createElement(d,o(o({ref:t},c),{},{components:n})):a.createElement(d,o({ref:t},c))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},28116:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=n(83117),r=(n(67294),n(3905));n(8209);const i={sidebar_position:4,toc_max_heading_level:6},o="JSAPI",l={unversionedId:"Online Payment Integration/Special Payment Scenes/jsapi",id:"Online Payment Integration/Special Payment Scenes/jsapi",title:"JSAPI",description:"Seamless Checkout via BOTIM & PayBy Integration",source:"@site/docs/Online Payment Integration/Special Payment Scenes/jsapi.md",sourceDirName:"Online Payment Integration/Special Payment Scenes",slug:"/Online Payment Integration/Special Payment Scenes/jsapi",permalink:"/docs/Online Payment Integration/Special Payment Scenes/jsapi",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,toc_max_heading_level:6},sidebar:"tutorialSidebar",previous:{title:"QRPAY",permalink:"/docs/Online Payment Integration/Special Payment Scenes/qrpay"},next:{title:"Direct Pay",permalink:"/docs/Online Payment Integration/Special Payment Scenes/direct-pay"}},p={},s=[{value:"Seamless Checkout via BOTIM &amp; PayBy Integration",id:"seamless-checkout-via-botim--payby-integration",level:2},{value:"User Experience",id:"user-experience",level:2},{value:"Integrate the API",id:"integrate-the-api",level:2},{value:"Initiate Payment via Dynamic QR Code Using PayBy",id:"initiate-payment-via-dynamic-qr-code-using-payby",level:3},{value:"Asynchronous Notification",id:"asynchronous-notification",level:3},{value:"Change Order Status",id:"change-order-status",level:3},{value:"Retrieve Order",id:"retrieve-order",level:3}],c={toc:s};function m(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"jsapi"},"JSAPI"),(0,r.kt)("h2",{id:"seamless-checkout-via-botim--payby-integration"},"Seamless Checkout via BOTIM & PayBy Integration"),(0,r.kt)("p",null,"For merchants with a mobile website, this payment scenario enables a smooth checkout experience directly within the BOTIM app. When a customer opens your webpage through a message in BOTIM, the built-in PayBy checkout interface is automatically triggered, allowing the customer to complete their order and payment seamlessly."),(0,r.kt)("p",null,"This integration is especially beneficial if your customer base frequently uses the PayBy or BOTIM apps. It simplifies the payment process by eliminating the need to design a custom checkout interface\u2014merchants only need to invoke the PayBy payment element, streamlining development and enhancing user convenience."),(0,r.kt)("h2",{id:"user-experience"},"User Experience"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The customer confirms to pay for an order, the merchant generates a QR codes on the interface."),(0,r.kt)("li",{parentName:"ol"},"The customer uses PayBy, BOTIM to scan the QR code to obtain order information. "),(0,r.kt)("li",{parentName:"ol"},"In the order information returned by payby server, there is a parameter ",(0,r.kt)("strong",{parentName:"li"},"tokenUrl"),", PayBy or BOTIM application will parse this parameter and redirect the customer to the built-in checkout of the app."),(0,r.kt)("li",{parentName:"ol"},"Customers enter their payment details on the payment page and complete the transaction."),(0,r.kt)("li",{parentName:"ol"},"If the payment is completed, the customer will see the payment result on the app.")),(0,r.kt)("h2",{id:"integrate-the-api"},"Integrate the API"),(0,r.kt)("h3",{id:"initiate-payment-via-dynamic-qr-code-using-payby"},"Initiate Payment via Dynamic QR Code Using PayBy"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Customer Confirmation"),(0,r.kt)("br",{parentName:"p"}),"\n","Wait for the customer to confirm their intent to proceed with the payment.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Create Order Request"),(0,r.kt)("br",{parentName:"p"}),"\n","Call the ",(0,r.kt)("a",{parentName:"p",href:"/docs/createorder"},"Create Order")," API.  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Construct the request according to the API documentation.  "),(0,r.kt)("li",{parentName:"ul"},"Set the ",(0,r.kt)("inlineCode",{parentName:"li"},"paySceneCode")," parameter to ",(0,r.kt)("inlineCode",{parentName:"li"},"DYNQR"),"."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Receive Token URL"),(0,r.kt)("br",{parentName:"p"}),"\n","If the API request is successful, PayBy will return a ",(0,r.kt)("inlineCode",{parentName:"p"},"tokenUrl"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Redirect to Built-in Checkout"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The PayBy or BOTIM app will parse the ",(0,r.kt)("inlineCode",{parentName:"li"},"tokenUrl"),".  "),(0,r.kt)("li",{parentName:"ul"},"The customer will be automatically redirected to the app\u2019s built-in checkout interface to complete the payment."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Payment Notification"),(0,r.kt)("br",{parentName:"p"}),"\n","After the payment is completed:  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"PayBy will notify the result to either the PayBy server or the BOTIM app.  "),(0,r.kt)("li",{parentName:"ul"},"The customer will see the payment result displayed in the app.")))),(0,r.kt)("h3",{id:"asynchronous-notification"},"Asynchronous Notification"),(0,r.kt)("p",null,"If the ",(0,r.kt)("strong",{parentName:"p"},"notifyUrl")," is set in the order creation request, after the transaction, PayBy will send payment result to the url."),(0,r.kt)("h3",{id:"change-order-status"},"Change Order Status"),(0,r.kt)("p",null,"You can initiate ",(0,r.kt)("a",{parentName:"p",href:"/docs/revoke"},"Revoke"),", ",(0,r.kt)("a",{parentName:"p",href:"/docs/cancel"},"Cancel"),", ",(0,r.kt)("a",{parentName:"p",href:"/docs/refund"},"Refund")," and other operations on the created order."),(0,r.kt)("h3",{id:"retrieve-order"},"Retrieve Order"),(0,r.kt)("p",null,"To retrieve the order detail, call the ",(0,r.kt)("a",{parentName:"p",href:"/docs/retrieveorderdetail"},"Retrieve Order Detail")," API."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"jsapiflow",src:n(41).Z,width:"1672",height:"1102"})))}m.isMDXComponent=!0},41:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/jsapi-7bbb0496208b9ab296f855e7513506e3.png"},8209:(e,t,n)=>{n(67294)}}]);