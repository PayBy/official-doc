"use strict";(self.webpackChunkdeveloper_official_site=self.webpackChunkdeveloper_official_site||[]).push([[9982],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),y=p(a),d=r,h=y["".concat(l,".").concat(d)]||y[d]||c[d]||o;return a?n.createElement(h,i(i({ref:t},u),{},{components:a})):n.createElement(h,i({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=y;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},92034:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=a(83117),r=(a(67294),a(3905));a(8209);const o={sidebar_position:1,toc_max_heading_level:6},i="Get Started",s={unversionedId:"General/integration-guide",id:"General/integration-guide",title:"Get Started",description:"This document provides an overview of the process to start accepting payments using PayBy.",source:"@site/docs/General/integration-guide.md",sourceDirName:"General",slug:"/General/integration-guide",permalink:"/docs/General/integration-guide",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,toc_max_heading_level:6},sidebar:"tutorialSidebar",previous:{title:"General"},next:{title:"Test apps and accounts",permalink:"/docs/General/test-accounts"}},l={},p=[{value:"Learn About PayBy Products",id:"learn-about-payby-products",level:2},{value:"Create a Test Account and Apply for Payment Products",id:"create-a-test-account-and-apply-for-payment-products",level:2},{value:"Configure the API Key",id:"configure-the-api-key",level:2},{value:"Merchant Public Key",id:"merchant-public-key",level:3},{value:"PayBy Public Key",id:"payby-public-key",level:3},{value:"IP Whitelist",id:"ip-whitelist",level:3},{value:"Verify in the Test Environment",id:"verify-in-the-test-environment",level:2},{value:"Sign a Request",id:"sign-a-request",level:3},{value:"Request Header Format",id:"request-header-format",level:3},{value:"Response Header Format",id:"response-header-format",level:3},{value:"Response Body Header Format",id:"response-body-header-format",level:3},{value:"Build Your Integration",id:"build-your-integration",level:2},{value:"Go Live",id:"go-live",level:2}],u={toc:p};function c(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"get-started"},"Get Started"),(0,r.kt)("p",null,"This document provides an overview of the process to start accepting payments using PayBy."),(0,r.kt)("h2",{id:"learn-about-payby-products"},"Learn About PayBy Products"),(0,r.kt)("p",null,"PayBy offers various payment products to meet different payment scenarios. You can integrate online payment, offline payment, web payment, and mobile payment solutions based on your business needs."),(0,r.kt)("p",null,"To learn more about available products and access requirements, review the Product Introduction and visit the developer documentation."),(0,r.kt)("h2",{id:"create-a-test-account-and-apply-for-payment-products"},"Create a Test Account and Apply for Payment Products"),(0,r.kt)("p",null,"You need to create a test merchant account and apply for the products you want to use in the test environment."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create test merchant: ",(0,r.kt)("a",{parentName:"li",href:"https://uat-web-merchant.test2pay.com/"},"https://uat-web-merchant.test2pay.com/")),(0,r.kt)("li",{parentName:"ul"},"Apply for products: ",(0,r.kt)("a",{parentName:"li",href:"https://uat-web-merchant.test2pay.com/products/all-products"},"https://uat-web-merchant.test2pay.com/products/all-products"))),(0,r.kt)("p",null,"PayBy processes applications on weekdays upon receipt. For special requirements, contact ",(0,r.kt)("a",{parentName:"p",href:"mailto:merchant@payby.com"},"merchant@payby.com")," directly."),(0,r.kt)("h2",{id:"configure-the-api-key"},"Configure the API Key"),(0,r.kt)("p",null,"After your account is activated, download PayBy's public key and upload your own public key."),(0,r.kt)("p",null,"Configuration portal: ",(0,r.kt)("a",{parentName:"p",href:"https://uat-web-merchant.test2pay.com/management/api-key"},"https://uat-web-merchant.test2pay.com/management/api-key")),(0,r.kt)("p",null,"PayBy uses asymmetric encryption to verify signatures. Asymmetric cryptography, or public-key cryptography, uses pairs of keys: a public key (which can be shared) and a private key (which must remain confidential)."),(0,r.kt)("h3",{id:"merchant-public-key"},"Merchant Public Key"),(0,r.kt)("p",null,"The merchant generates a key pair where the private key remains with the merchant and the public key is uploaded to the PayBy system. When sending requests to PayBy, the merchant signs the request with its private key, and PayBy uses the merchant's public key to verify the signature. Successful verification confirms that the request was sent by the merchant and not forged by others."),(0,r.kt)("p",null,"You can generate a key pair directly on the PayBy portal. The public key is automatically saved in the PayBy system, and you can download the private key. Store the private key securely. If your private key is lost, update the key in PayBy immediately. You can also generate keys using other OpenSSL tools."),(0,r.kt)("h3",{id:"payby-public-key"},"PayBy Public Key"),(0,r.kt)("p",null,"PayBy generates a key pair for each merchant. PayBy stores the private key, and the public key is available on the portal for merchants to download. When PayBy sends responses, PayBy signs the message with its private key, and the merchant uses PayBy's public key to verify the signature. Successful verification confirms that the response was sent by PayBy and not forged by others."),(0,r.kt)("h3",{id:"ip-whitelist"},"IP Whitelist"),(0,r.kt)("p",null,"PayBy only allows API requests from whitelisted IP addresses. You must configure the IP whitelist; otherwise, API calls will fail with an error. You can set one or more whitelist IPs. To allow any IP address, enter ",(0,r.kt)("inlineCode",{parentName:"p"},"*"),"."),(0,r.kt)("h2",{id:"verify-in-the-test-environment"},"Verify in the Test Environment"),(0,r.kt)("h3",{id:"sign-a-request"},"Sign a Request"),(0,r.kt)("p",null,"The preferred signature algorithm is SHA256withRSA, an efficient asymmetric encryption method. This algorithm first calculates a unique hash of the input data using the SHA256 algorithm, then encrypts the hash with a private key using the RSA algorithm."),(0,r.kt)("p",null,"Merchants need to generate a private key and public key pair using OpenSSL. After generating the key pair, share the merchant's public key with PayBy so that sent messages can be validated by PayBy. You should also obtain PayBy's public key for future use cases."),(0,r.kt)("p",null,"When ready to send an API request, sign the request message with the merchant's private key. When encryption is required per API specifications, encrypt the message with PayBy's public key so that PayBy can decrypt it with their private key."),(0,r.kt)("p",null,"To ensure all messages are properly verified and decrypted, request messages need to be encoded and decrypted using the same algorithm. All requests must follow this process when generating signatures:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"1",src:a(38568).Z,width:"1670",height:"162"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Process the entire request body as a signature"),(0,r.kt)("li",{parentName:"ol"},"Use UTF-8 to encode the original message"),(0,r.kt)("li",{parentName:"ol"},"Generate SHA256withRSA signature"),(0,r.kt)("li",{parentName:"ol"},"Use Base64 to encode the signature generated in step 3"),(0,r.kt)("li",{parentName:"ol"},"Use the signature generated in step 4 for all requests in the HTTP Header")),(0,r.kt)("p",null,"Sometimes you need to encrypt the request payload or fields to prevent man-in-the-middle attacks. When encrypting, use RSA encryption with PayBy's public key. The encrypted field should not be too large (usually no more than 200 bytes) to ensure timely decryption."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"2",src:a(20187).Z,width:"1666",height:"132"})),(0,r.kt)("p",null,"If the request is sent successfully, PayBy returns a response where ",(0,r.kt)("inlineCode",{parentName:"p"},"applystatus")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"success")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"code")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,r.kt)("p",null,"Try making a request call to verify whether your configuration is successful. If the call fails and you cannot determine the reason, contact ",(0,r.kt)("a",{parentName:"p",href:"mailto:merchant@payby.com"},"merchant@payby.com"),", and the technical team will help resolve the problem."),(0,r.kt)("h3",{id:"request-header-format"},"Request Header Format"),(0,r.kt)("p",null,"When sending a request to PayBy, the request content includes HTTP Header and HTTP Body. In most requests, the HTTP Header should be formatted as follows:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Content-Language")," (String)\nThe language for the response message. Currently, only English is supported.\nExample value: en\nMaximum length: 10"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Content-Type")," (String, Required)\nThe media type. Required for operations with a request body. The value is ",(0,r.kt)("inlineCode",{parentName:"p"},"application/json"),".\nExample value: application/json"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"sign")," (String, Required)\nSign requests using private-key cryptography. This allows the payment gateway to verify that an incoming request is from your application."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Partner-Id")," (String, Required)\nThe merchant ID of your account.\nExample value: 200001200101\nMaximum length: 12"),(0,r.kt)("h3",{id:"response-header-format"},"Response Header Format"),(0,r.kt)("p",null,"When PayBy sends a response, the response content includes HTTP Header and HTTP Body. In most responses, the HTTP Header should be formatted as follows:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"sign")," (String, Required)\nWhen PayBy sends a response, PayBy uses its private key to sign the message, and the merchant uses PayBy's public key to verify the signature. Successful verification confirms that the response was sent by PayBy and not forged by others."),(0,r.kt)("h3",{id:"response-body-header-format"},"Response Body Header Format"),(0,r.kt)("p",null,"When PayBy sends a response, the response content includes HTTP Header and HTTP Body. The HTTP Body consists of head and body sections. In most responses, the body should be formatted as follows:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"applyStatus")," (Enum, Required)\nThe result of the request. Possible values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SUCCESS")," - Application successful"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FAIL")," - Application failed. Check the ",(0,r.kt)("inlineCode",{parentName:"li"},"code")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"msg")," for the exact reason"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ERROR")," - Application error. The signature verification failed. Check whether the private key used for the signature and the public key uploaded on the PayBy portal are a key pair")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"code")," (String, Required)\nResponse codes. View the ",(0,r.kt)("a",{parentName:"p",href:"/docs/response-code"},"Response Code")," section to see all possible results.\nExample value: 0"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"msg")," (String)\nDescription of this code. View the ",(0,r.kt)("a",{parentName:"p",href:"/docs/response-code"},"Response Code")," section to see all possible results."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"traceCode")," (String)\nInternal PayBy identifier used to locate errors."),(0,r.kt)("h2",{id:"build-your-integration"},"Build Your Integration"),(0,r.kt)("p",null,"Choose your integration to match your business needs:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Checkout"),": Hosted paypage, iFrame paypage, In-App SDK"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Special payment scenes"),": E-wallet, DYNQR, QRPAY, JSAPI, Direct pay"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Fundout"),": Transfer, Transfer to bank")),(0,r.kt)("h2",{id:"go-live"},"Go Live"),(0,r.kt)("p",null,"After successfully verifying in the test environment and preparing to launch in the live environment, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Apply for production environment account: ",(0,r.kt)("a",{parentName:"li",href:"https://b.payby.com/"},"https://b.payby.com/")),(0,r.kt)("li",{parentName:"ol"},"Enable production environment products: Contact sales to decide the products and rates at ",(0,r.kt)("a",{parentName:"li",href:"mailto:bd@payby.com"},"bd@payby.com")),(0,r.kt)("li",{parentName:"ol"},"Configure production environment key: ",(0,r.kt)("a",{parentName:"li",href:"https://b.payby.com/management/api-key"},"https://b.payby.com/management/api-key"))))}c.isMDXComponent=!0},38568:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/1-3c4fa7c271141b79669cf86af08e180d.png"},20187:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/2-e33fbbb980ce369900e34638a7e19c66.png"},8209:(e,t,a)=>{a(67294)}}]);